plugins {
    id 'com.star-zero.gradle.githook' version '1.2.1'
    id 'ru.netris.commitlint' version '1.4.1'
    id 'application'
    id 'checkstyle'
	id 'java'
}

mainClassName = 'app.FEM'
sourceCompatibility = '11'

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.8.1'
}

githook {
    failOnMissingHooksDir = false
    hooks {
        'commit-msg' {
            task = 'commitlint'
        }
    }
}

test {
    useJUnitPlatform()
    testLogging {
        exceptionFormat = 'full'
    }
}

jar {
    manifest {
        attributes (
            'Main-Class': 'app.FEM'
        )
    }
}

javadoc {
    options.encoding = 'UTF-8'
}

checkstyle {
    toolVersion = '9.0'
    configFile = file('checkstyle.xml')
}

task checkstyle() {
    dependsOn 'checkstyleMain', 'checkstyleTest'
    description = 'Runs Checkstyle analysis for the source folder.'
    group = 'Verification'
}
